{"remainingRequest":"/Users/rbector/Desktop/cookbook/node_modules/babel-loader/lib/index.js!/Users/rbector/Desktop/cookbook/node_modules/ts-loader/index.js??ref--14-2!/Users/rbector/Desktop/cookbook/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/rbector/Desktop/cookbook/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rbector/Desktop/cookbook/src/App.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/rbector/Desktop/cookbook/src/App.vue","mtime":1594774128915},{"path":"/Users/rbector/Desktop/cookbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvcmJlY3Rvci9EZXNrdG9wL2Nvb2tib29rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvcmJlY3Rvci9EZXNrdG9wL2Nvb2tib29rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3JiZWN0b3IvRGVza3RvcC9jb29rYm9vay9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9yYmVjdG9yL0Rlc2t0b3AvY29va2Jvb2svbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvcmJlY3Rvci9EZXNrdG9wL2Nvb2tib29rL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlLCBXYXRjaCB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBWb2x1bWVVbml0cywgQ29udmVydFVuaXQsIE1hc3NVbml0cywgT3VuY2VzVG9DdXBzLCBVbml0IH0gZnJvbSAiLi9jb21tb24vY29tbW9uIjsKaW1wb3J0IHsgVGVzdENhc2VzIH0gZnJvbSAiLi90ZXN0cy90ZXN0cyI7CmltcG9ydCB7IFBhcnNlTGluZSwgUGFyc2VVbml0IH0gZnJvbSAnLi9sb2dpYy9wYXJzZXInOwppbXBvcnQgKiBhcyBSTSBmcm9tICd0eXBlZC1yZXN0LWNsaWVudC9SZXN0Q2xpZW50JzsKCnZhciBBcHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoQXBwLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBcHApOwoKICBmdW5jdGlvbiBBcHAoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwcCk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLmF1dG9ncm93ID0gIjIgdGVhc3Bvb24gdmFuaWxsYSBleHRyYWN0IjsKICAgIF90aGlzLnBhcnNlZCA9IFtdOwogICAgX3RoaXMuc3RhZ2UgPSAwOwogICAgX3RoaXMudGhlbWUgPSAiZGVmYXVsdCI7CiAgICBfdGhpcy5zdGF0dXNlcyA9IFtdOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEFwcCwgW3sKICAgIGtleTogImNhbGN1bGF0ZUluZ1ByaWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY2FsY3VsYXRlSW5nUHJpY2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoaW5nKSB7CiAgICAgICAgdmFyIHJlc3QsIHJlcywgcmVzTWFyc2hhbCwgcGFyc2VkVW5pdCwgcHJpY2UsIGNvbnZlcnNpb25GYWN0b3I7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVzdCA9IG5ldyBSTS5SZXN0Q2xpZW50KCdyZXN0JywgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCcpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdC5nZXQoIi9pbmc/aW5nPSIuY29uY2F0KGluZy5uYW1lLCAiJnVuaXQ9KiIpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlc01hcnNoYWwgPSB7CiAgICAgICAgICAgICAgICAgIGF2ZXJhZ2U6IDAsCiAgICAgICAgICAgICAgICAgIHVuaXQ6ICcnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQpIHJlc01hcnNoYWwgPSByZXMucmVzdWx0OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dvdCByZXNwOiAnICsgSlNPTi5zdHJpbmdpZnkocmVzTWFyc2hhbCkpOwogICAgICAgICAgICAgICAgcGFyc2VkVW5pdCA9IFBhcnNlVW5pdChyZXNNYXJzaGFsLnVuaXQpOyAvLyBUaGUgc2VydmVyIHJldHVybnMgYSBwcmljZSwgYWxvbmcgd2l0aCBpdHMgdW5pdC4gT3V0IG9mIHRoZSBzZWFyY2ggcmVzdWx0cywgdGhlIHNlcnZlcgogICAgICAgICAgICAgICAgLy8gY2hvb3NlcyB0aGUgbW9zdCBjb21tb24gdW5pdCB0byBpbmNsdWRlIGluIHRoaXMgYXZlcmFnZSBwcmljZS4gTm93LCB3ZSBtdXN0IGRldGVybWluZQogICAgICAgICAgICAgICAgLy8gaG93IHRvIHRyYW5zZm9ybSB0aGlzIHVuaXQgaW50byB0aGUgdW5pdCBnaXZlbiBieSB0aGUgdXNlci4KICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICAvLyBUaGVyZSBhcmUgMyBwb3NzaWJsZSBjYXNlczoKICAgICAgICAgICAgICAgIC8vICAgIDEuIFRoZSB1bml0IHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgaXMgdGhlIHNhbWUgYXMgdGhlIHVzZXIncyB1bml0LiBObyBuZWVkIHRvIGRvIGFueSBjb252ZXJzaW9ucy4KICAgICAgICAgICAgICAgIC8vICAgIDIuIFRoZSB1bml0IHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgaXMgaW4gdGhlIHNhbWUgY2xhc3MgKHZvbHVtZSBvciBtYXNzKSBhcyB0aGUgdXNlcidzIHVuaXQsIHNvIGNhbiBiZSBlYXNpbHkgY29udmVydGVkIHZpYSB0YWJsZS4KICAgICAgICAgICAgICAgIC8vICAgIDMuIFRoZSB1bml0IHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIgaXMgaW4gYSBkaWZmZXJlbnQgY2xhc3MgYXMgdGhlIHVzZXIncyB1bml0LiBUaGlzIGxlYWRzIHRvIDIgcmlza3kgb3B0aW9ucyBhbmQgYSBzaGl0dHkgZmFsbGJhY2s6CiAgICAgICAgICAgICAgICAvLyAgICAgICAgYS4gVHJ5IHRvIGdvb2dsZSB0byBkZXRlcm1pbmUgdGhlIGluZ3JlZGllbnQtc3BlY2lmaWMgdm9sdW1lIDwtPiBtYXNzIGNvbnZlcnNpb24gZm9yIHRoaXMgdW5pdAogICAgICAgICAgICAgICAgLy8gICAgICAgIGIuIFRyeSB0byB1c2UgYSBoYW5kbWFkZSBjYWNoZSBvZiBjb21tb24gaW5ncmVkaWVudC1zcGVjaWZpYyBjb252ZXJzaW9ucwogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vICAgICAgICBjLiBBcyBhIGZhbGxiYWNrLCBhc2sgdGhlIHVzZXIgdG8gaW5wdXQgdGhlaXIgb3JpZ2luYWwgYW1vdW50IGluIHRoaXMgbmV3IHVuaXQuCiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIGZvciBjb252ZXJzaW9uCgogICAgICAgICAgICAgICAgaWYgKCEocGFyc2VkVW5pdCA9PT0gaW5nLnVuaXQgfHwgaW5nLnVuaXQgPT09IFVuaXQuTm9uZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiByZXNNYXJzaGFsLmF2ZXJhZ2UsCiAgICAgICAgICAgICAgICAgIHVuaXQ6IHBhcnNlZFVuaXQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcHJpY2UgPSB7CiAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiByZXNNYXJzaGFsLmF2ZXJhZ2UsCiAgICAgICAgICAgICAgICAgIHVuaXQ6IHBhcnNlZFVuaXQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR290IHByaWNlOiAnICsgSlNPTi5zdHJpbmdpZnkocHJpY2UpKTsgLy8gVm9sdW1lIC0+IHZvbHVtZSBjb252ZXJzaW9uCgogICAgICAgICAgICAgICAgaWYgKCEoVm9sdW1lVW5pdHMuaW5jbHVkZXMocGFyc2VkVW5pdCkgJiYgVm9sdW1lVW5pdHMuaW5jbHVkZXMoaW5nLnVuaXQpKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIENvbnZlcnRVbml0KHByaWNlLCBpbmcudW5pdCkpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaWYgKCEoTWFzc1VuaXRzLmluY2x1ZGVzKHBhcnNlZFVuaXQpICYmIE1hc3NVbml0cy5pbmNsdWRlcyhpbmcudW5pdCkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgQ29udmVydFVuaXQocHJpY2UsIGluZy51bml0KSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICAvLyBUcnkgY2FjaGUgbG9va3VwCiAgICAgICAgICAgICAgICBjb252ZXJzaW9uRmFjdG9yID0gbnVsbDsKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKE91bmNlc1RvQ3VwcykuZm9yRWFjaChmdW5jdGlvbiAoaW5nTmFtZSkgewogICAgICAgICAgICAgICAgICBpZiAoaW5nLm5hbWUuaW5jbHVkZXMoaW5nTmFtZSkpIGNvbnZlcnNpb25GYWN0b3IgPSBPdW5jZXNUb0N1cHNbaW5nTmFtZV07CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoIWNvbnZlcnNpb25GYWN0b3IpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBwcmljZS5xdWFudGl0eSA9IHByaWNlLnF1YW50aXR5ICogY29udmVyc2lvbkZhY3RvcjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIENvbnZlcnRVbml0KHByaWNlLCBpbmcudW5pdCkpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgICBxdWFudGl0eTogLTEsCiAgICAgICAgICAgICAgICAgIHVuaXQ6IFVuaXQuTm9uZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlSW5nUHJpY2UoX3gpIHsKICAgICAgICByZXR1cm4gX2NhbGN1bGF0ZUluZ1ByaWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjYWxjdWxhdGVJbmdQcmljZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIm1ha2VMYWJlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUxhYmVsKGl0ZW0pIHsKICAgICAgcmV0dXJuICJDb3N0IC8gIi5jb25jYXQodGhpcy5kaXNwbGF5UHJpY2VPZihpdGVtKS51bml0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYWtlTGluayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZUxpbmsoaXRlbSkgewogICAgICByZXR1cm4gImh0dHBzOi8vd3d3LmhlYi5jb20vc2VhcmNoLz9xPSIuY29uY2F0KGl0ZW0ubmFtZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibmV4dFN0YWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbmV4dFN0YWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YWdlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucnVuUGFyc2VyKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5zdGFnZSsrOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YWdlID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VkLmZvckVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGluZykgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNhbGN1bGF0ZUluZ1ByaWNlKGluZykudGhlbihmdW5jdGlvbiAocCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJQcmljZSBpcyAiLmNvbmNhdChwLnF1YW50aXR5LCAiIHBlciAiKS5jb25jYXQoaW5nLnVuaXQpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRuZXh0VGljaygpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRmb3JjZVVwZGF0ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGFnZSA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZy5wcmljZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSgpKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbmV4dFN0YWdlKCkgewogICAgICAgIHJldHVybiBfbmV4dFN0YWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXh0U3RhZ2U7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJydW5QYXJzZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJ1blBhcnNlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnBhcnNlZCA9IFtdOwogICAgICB0aGlzLmF1dG9ncm93LnNwbGl0KCJcbiIpLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLnBhcnNlZC5wdXNoKFBhcnNlTGluZShsaW5lKSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJ1blRlc3RzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBydW5UZXN0cygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnN0YWdlID0gLTE7CiAgICAgIHRoaXMuc3RhdHVzZXMgPSBbXTsKICAgICAgVGVzdENhc2VzLmZvckVhY2goZnVuY3Rpb24gKHRjKSB7CiAgICAgICAgX3RoaXM0LnN0YXR1c2VzLnB1c2goewogICAgICAgICAgbmFtZTogdGMubmFtZSwKICAgICAgICAgIHN0YXR1czogIk5PVCBTVEFSVEVEIgogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgVGVzdENhc2VzLmZvckVhY2goZnVuY3Rpb24gKHRjKSB7CiAgICAgICAgdmFyIHN0YXR1c0RhdGFNYXliZSA9IF90aGlzNC5zdGF0dXNlcy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICByZXR1cm4gcy5uYW1lID09IHRjLm5hbWU7CiAgICAgICAgfSk7CgogICAgICAgIHZhciBzdGF0dXNEYXRhID0gX3RoaXM0LnN0YXR1c2VzWzBdOwogICAgICAgIGlmIChzdGF0dXNEYXRhTWF5YmUpIHN0YXR1c0RhdGEgPSBzdGF0dXNEYXRhTWF5YmU7CiAgICAgICAgc3RhdHVzRGF0YS5zdGF0dXMgPSAiUlVOTklORyI7CiAgICAgICAgX3RoaXM0LmF1dG9ncm93ID0gdGMuaW5wdXQ7CgogICAgICAgIF90aGlzNC5ydW5QYXJzZXIoKTsKCiAgICAgICAgdmFyIGNvcnJlY3QgPSB0cnVlOwogICAgICAgIHZhciBmYWlsZWQgPSAiIjsKICAgICAgICB2YXIgcmVhc29uQ29tcGxldGUgPSBmYWxzZTsKCiAgICAgICAgX3RoaXM0LnBhcnNlZC5mb3JFYWNoKGZ1bmN0aW9uIChpbmcsIGluZGV4KSB7CiAgICAgICAgICBpZiAoaW5nLm5hbWUgIT09IHRjLm91dHB1dFtpbmRleF0ubmFtZSkgewogICAgICAgICAgICBjb3JyZWN0ID0gZmFsc2U7CiAgICAgICAgICAgIGZhaWxlZCA9ICJFeHBlY3RlZDogIi5jb25jYXQodGMub3V0cHV0W2luZGV4XS5uYW1lLCAiXG5Hb3Q6ICIpLmNvbmNhdChpbmcubmFtZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGluZy5xdWFudGl0eSAhPT0gdGMub3V0cHV0W2luZGV4XS5xdWFudGl0eSkgewogICAgICAgICAgICBjb3JyZWN0ID0gZmFsc2U7CiAgICAgICAgICAgIGZhaWxlZCA9ICJFeHBlY3RlZDogIi5jb25jYXQodGMub3V0cHV0W2luZGV4XS5xdWFudGl0eSwgIlxuR290OiAiKS5jb25jYXQoaW5nLnF1YW50aXR5KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaW5nLnVuaXQgIT09IHRjLm91dHB1dFtpbmRleF0udW5pdCkgewogICAgICAgICAgICBjb3JyZWN0ID0gZmFsc2U7CiAgICAgICAgICAgIGZhaWxlZCA9ICJFeHBlY3RlZDogIi5jb25jYXQodGMub3V0cHV0W2luZGV4XS51bml0LCAiXG5Hb3Q6ICIpLmNvbmNhdChpbmcudW5pdCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFjb3JyZWN0ICYmICFyZWFzb25Db21wbGV0ZSkgewogICAgICAgICAgICBmYWlsZWQgKz0gIlxuRmFpbGVkIGF0OiAiLmNvbmNhdChKU09OLnN0cmluZ2lmeShpbmcsIG51bGwsIDQpKTsKICAgICAgICAgICAgcmVhc29uQ29tcGxldGUgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBpZiAoY29ycmVjdCkgc3RhdHVzRGF0YS5zdGF0dXMgPSAiUEFTUyI7ZWxzZSB7CiAgICAgICAgICBzdGF0dXNEYXRhLnN0YXR1cyA9ICJGQUlMIjsKICAgICAgICAgIGNvbnNvbGUubG9nKCJURVNUIEZBSUxFRDogXG4iICsgZmFpbGVkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3BsYXlQcmljZU9mIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwbGF5UHJpY2VPZihpbmcpIHsKICAgICAgaWYgKGluZy5wcmljZSkgcmV0dXJuIGluZy5wcmljZTsKICAgICAgcmV0dXJuIHsKICAgICAgICBxdWFudGl0eTogMCwKICAgICAgICB1bml0OiBpbmcudW5pdAogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImJhY2tUb01haW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJhY2tUb01haW4oKSB7CiAgICAgIHRoaXMuYXV0b2dyb3cgPSAiIjsKICAgICAgdGhpcy5wYXJzZWQgPSBbXTsKICAgICAgdGhpcy5zdGFnZSA9IDA7CiAgICB9CiAgfSwgewogICAga2V5OiAidGVzdENvbG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0ZXN0Q29sb3IobmFtZSkgewogICAgICB2YXIgc3RhdHVzRGF0YSA9IHRoaXMuc3RhdHVzZXMuZmluZChmdW5jdGlvbiAocykgewogICAgICAgIHJldHVybiBzLm5hbWUgPT0gbmFtZTsKICAgICAgfSk7CiAgICAgIGlmIChzdGF0dXNEYXRhKSBpZiAoc3RhdHVzRGF0YS5zdGF0dXMgPT0gIlBBU1MiKSByZXR1cm4gImNvbG9yOiBkYXJrc2VhZ3JlZW47IjsKICAgICAgaWYgKHN0YXR1c0RhdGEpIGlmIChzdGF0dXNEYXRhLnN0YXR1cyA9PSAiRkFJTCIpIHJldHVybiAiY29sb3I6IG9yYW5nZXJlZDsiOwogICAgfQogIH0sIHsKICAgIGtleTogInNldERhcmtNb2RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXJrTW9kZSgpIHsKICAgICAgdGhpcy50aGVtZSA9ICJ0ZXN0aW5nIjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRMaWdodE1vZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldExpZ2h0TW9kZSgpIHsKICAgICAgdGhpcy50aGVtZSA9ICJkZWZhdWx0IjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdGFnZUNoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YWdlQ2hhbmdlZChuZXdTdGFnZSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGlmIChuZXdTdGFnZSA9PT0gMSkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM1LnN0YWdlKys7CiAgICAgICAgfSwgMCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0ZXN0U3RhdHVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5zdGF0dXNlczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b3BTdHlsZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKHRoaXMudGhlbWUgPT09ICJkZWZhdWx0IikgcmV0dXJuICIiOwogICAgICByZXR1cm4gImJhY2tncm91bmQtY29sb3I6ICM0MjQyNDI7IjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhcHBTdHlsZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICJoZWlnaHQ6ICIuY29uY2F0KHdpbmRvdy5pbm5lckhlaWdodCwgInB4Iik7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXBwOwp9KFZ1ZSk7CgpfX2RlY29yYXRlKFtXYXRjaCgic3RhZ2UiKV0sIEFwcC5wcm90b3R5cGUsICJzdGFnZUNoYW5nZWQiLCBudWxsKTsKCkFwcCA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czoge30KfSldLCBBcHApOwpleHBvcnQgZGVmYXVsdCBBcHA7"},{"version":3,"sources":["/Users/rbector/Desktop/cookbook/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/rbector/Desktop/cookbook/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rbector/Desktop/cookbook/src/App.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { IngredientData, VolumeUnits, ConvertUnit, Amount, MassUnits, OuncesToCups, Unit } from \"./common/common\";\nimport { TestCases, TestStatus } from \"./tests/tests\";\nimport { ParseLine, ParseUnit } from './logic/parser';\nimport * as RM from 'typed-rest-client/RestClient';\n\ninterface PriceResponse {\n  average: number;\n  unit: string;\n}\n\n@Component({\n  components: {}\n})\nexport default class App extends Vue {\n  private autogrow = \"2 teaspoon vanilla extract\";\n  private parsed: IngredientData[] = [];\n  private stage = 0;\n  private theme = \"default\";\n  private statuses: TestStatus[] = [];\n\n  async calculateIngPrice(ing: IngredientData): Promise<Amount> {\n    const rest: RM.RestClient = new RM.RestClient('rest', 'http://localhost:5000');\n    const res: RM.IRestResponse<PriceResponse> = await rest.get<PriceResponse>(`/ing?ing=${ing.name}&unit=*`)\n    let resMarshal: PriceResponse = { average: 0, unit: ''}\n    if (res.result) resMarshal = res.result;\n    console.log('Got resp: ' + JSON.stringify(resMarshal));\n    const parsedUnit = ParseUnit(resMarshal.unit);\n\n    // The server returns a price, along with its unit. Out of the search results, the server\n    // chooses the most common unit to include in this average price. Now, we must determine\n    // how to transform this unit into the unit given by the user.\n    //\n    // There are 3 possible cases:\n    //    1. The unit returned by the server is the same as the user's unit. No need to do any conversions.\n    //    2. The unit returned by the server is in the same class (volume or mass) as the user's unit, so can be easily converted via table.\n    //    3. The unit returned by the server is in a different class as the user's unit. This leads to 2 risky options and a shitty fallback:\n    //        a. Try to google to determine the ingredient-specific volume <-> mass conversion for this unit\n    //        b. Try to use a handmade cache of common ingredient-specific conversions\n    //\n    //        c. As a fallback, ask the user to input their original amount in this new unit.\n\n    // No need for conversion\n    if (parsedUnit === ing.unit || ing.unit === Unit.None) {\n      return {\n        quantity: resMarshal.average,\n        unit: parsedUnit,\n      };\n    }\n\n    const price: Amount = {quantity: resMarshal.average, unit: parsedUnit};\n    console.log('Got price: ' + JSON.stringify(price));\n\n    // Volume -> volume conversion\n    if (VolumeUnits.includes(parsedUnit) && VolumeUnits.includes(ing.unit)) {\n      return ConvertUnit(price, ing.unit);\n    }\n\n    // Mass -> mass conversion\n    if (MassUnits.includes(parsedUnit) && MassUnits.includes(ing.unit)) {\n      return ConvertUnit(price, ing.unit);\n    }\n\n    // Try cache lookup\n    let conversionFactor = null;\n    Object.keys(OuncesToCups).forEach((ingName) => {\n      if (ing.name.includes(ingName)) conversionFactor = OuncesToCups[ingName];\n    })\n    if (conversionFactor) {\n      price.quantity = price.quantity * conversionFactor;\n      return ConvertUnit(price, ing.unit);\n    }\n\n    return {\n      quantity: -1,\n      unit: Unit.None,\n    };\n  }\n\n  private makeLabel(item: IngredientData): string {\n    return `Cost / ${this.displayPriceOf(item).unit}`;\n  }\n\n  private makeLink(item: IngredientData): string {\n    return `https://www.heb.com/search/?q=${item.name}`;\n  }\n\n  async nextStage() {\n    if (this.stage === 0) {\n      this.runParser();\n    }\n    this.stage++;\n    if (this.stage === 3) {\n      this.parsed.forEach(async (ing) => {\n        ing.price = await this.calculateIngPrice(ing).then((p) => {\n          console.log(`Price is ${p.quantity} per ${ing.unit}`)\n          this.$nextTick().then(() => {\n            this.$forceUpdate();\n            this.stage = 4;\n          })\n          return p;\n        });\n      })\n    }\n  }\n\n  private runParser() {\n    this.parsed = [];\n    this.autogrow.split(\"\\n\").forEach(line => this.parsed.push(ParseLine(line)));\n  }\n\n  private runTests() {\n    this.stage = -1;\n    this.statuses = [];\n    TestCases.forEach(tc => {\n      this.statuses.push({\n        name: tc.name,\n        status: \"NOT STARTED\"\n      });\n    });\n    TestCases.forEach(tc => {\n      const statusDataMaybe = this.statuses.find(s => s.name == tc.name);\n      let statusData = this.statuses[0];\n      if (statusDataMaybe) statusData = statusDataMaybe;\n      statusData.status = \"RUNNING\";\n      this.autogrow = tc.input;\n      this.runParser();\n      let correct = true;\n      let failed = \"\";\n      let reasonComplete = false;\n      this.parsed.forEach((ing, index) => {\n        if (ing.name !== tc.output[index].name) {\n          correct = false;\n          failed = `Expected: ${tc.output[index].name}\\nGot: ${ing.name}`;\n        }\n        if (ing.quantity !== tc.output[index].quantity) {\n          correct = false;\n          failed = `Expected: ${tc.output[index].quantity}\\nGot: ${ing.quantity}`;\n        }\n        if (ing.unit !== tc.output[index].unit) {\n          correct = false;\n          failed = `Expected: ${tc.output[index].unit}\\nGot: ${ing.unit}`;\n        }\n        if (!correct && !reasonComplete) {\n          failed += `\\nFailed at: ${JSON.stringify(ing, null, 4)}`;\n          reasonComplete = true;\n        }\n      });\n      if (correct) statusData.status = \"PASS\";\n      else {\n        statusData.status = \"FAIL\";\n        console.log(\"TEST FAILED: \\n\" + failed);\n      }\n    });\n  }\n\n  private displayPriceOf(ing: IngredientData): Amount {\n    if (ing.price) return ing.price;\n    return {\n      quantity: 0,\n      unit: ing.unit,\n    }\n  }\n\n  private backToMain() {\n    this.autogrow = \"\";\n    this.parsed = [];\n    this.stage = 0;\n  }\n\n  private testColor(name: string) {\n    const statusData = this.statuses.find(s => s.name == name);\n    if (statusData)\n      if (statusData.status == \"PASS\") return \"color: darkseagreen;\";\n    if (statusData) if (statusData.status == \"FAIL\") return \"color: orangered;\";\n  }\n\n  private setDarkMode() {\n    this.theme = \"testing\";\n  }\n\n  private setLightMode() {\n    this.theme = \"default\";\n  }\n\n  get testStatus(): TestStatus[] {\n    return this.statuses;\n  }\n\n  get topStyle(): string {\n    if (this.theme === \"default\") return \"\";\n    return \"background-color: #424242;\";\n  }\n\n  get appStyle(): string {\n    return `height: ${window.innerHeight}px`;\n  }\n\n  @Watch(\"stage\")\n  stageChanged(newStage: number) {\n    if (newStage === 1) {\n      setTimeout(() => {\n        this.stage++;\n      }, 0);\n    }\n  }\n}\n"],"sourceRoot":""}]}