{"remainingRequest":"/Users/rbector/Desktop/cookbook/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rbector/Desktop/cookbook/src/App.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/rbector/Desktop/cookbook/src/App.vue","mtime":1594774415292},{"path":"/Users/rbector/Desktop/cookbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSwgV2F0Y2ggfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgSW5ncmVkaWVudERhdGEsIFZvbHVtZVVuaXRzLCBDb252ZXJ0VW5pdCwgQW1vdW50LCBNYXNzVW5pdHMsIE91bmNlc1RvQ3VwcywgVW5pdCB9IGZyb20gIi4vY29tbW9uL2NvbW1vbiI7CmltcG9ydCB7IFRlc3RDYXNlcywgVGVzdFN0YXR1cyB9IGZyb20gIi4vdGVzdHMvdGVzdHMiOwppbXBvcnQgeyBQYXJzZUxpbmUsIFBhcnNlVW5pdCB9IGZyb20gJy4vbG9naWMvcGFyc2VyJzsKaW1wb3J0ICogYXMgUk0gZnJvbSAndHlwZWQtcmVzdC1jbGllbnQvUmVzdENsaWVudCc7CgppbnRlcmZhY2UgUHJpY2VSZXNwb25zZSB7CiAgYXZlcmFnZTogbnVtYmVyOwogIHVuaXQ6IHN0cmluZzsKfQoKQENvbXBvbmVudCh7CiAgY29tcG9uZW50czoge30KfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwIGV4dGVuZHMgVnVlIHsKICBwcml2YXRlIGF1dG9ncm93ID0gIjIgdGVhc3Bvb24gdmFuaWxsYSBleHRyYWN0IjsKICBwcml2YXRlIHBhcnNlZDogSW5ncmVkaWVudERhdGFbXSA9IFtdOwogIHByaXZhdGUgc3RhZ2UgPSAwOwogIHByaXZhdGUgdGhlbWUgPSAiZGVmYXVsdCI7CiAgcHJpdmF0ZSBzdGF0dXNlczogVGVzdFN0YXR1c1tdID0gW107CgogIGFzeW5jIGNhbGN1bGF0ZUluZ1ByaWNlKGluZzogSW5ncmVkaWVudERhdGEpOiBQcm9taXNlPEFtb3VudD4gewogICAgY29uc3QgcmVzdDogUk0uUmVzdENsaWVudCA9IG5ldyBSTS5SZXN0Q2xpZW50KCdyZXN0JywgJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMCcpOwogICAgY29uc3Qgc2VhcmNoOiBzdHJpbmcgPSAoaW5nLnVuaXQgIT09IFVuaXQuTm9uZSkgPyBgL2luZz9pbmc9JHtpbmcubmFtZX0mdW5pdD0qYCA6IGAvaW5nP2luZz0ke2luZy5uYW1lfSZ1bml0PW5vbmVgCiAgICBjb25zdCByZXM6IFJNLklSZXN0UmVzcG9uc2U8UHJpY2VSZXNwb25zZT4gPSBhd2FpdCByZXN0LmdldDxQcmljZVJlc3BvbnNlPigpCiAgICBsZXQgcmVzTWFyc2hhbDogUHJpY2VSZXNwb25zZSA9IHsgYXZlcmFnZTogMCwgdW5pdDogJyd9CiAgICBpZiAocmVzLnJlc3VsdCkgcmVzTWFyc2hhbCA9IHJlcy5yZXN1bHQ7CiAgICBjb25zb2xlLmxvZygnR290IHJlc3A6ICcgKyBKU09OLnN0cmluZ2lmeShyZXNNYXJzaGFsKSk7CiAgICBjb25zdCBwYXJzZWRVbml0ID0gUGFyc2VVbml0KHJlc01hcnNoYWwudW5pdCk7CgogICAgLy8gVGhlIHNlcnZlciByZXR1cm5zIGEgcHJpY2UsIGFsb25nIHdpdGggaXRzIHVuaXQuIE91dCBvZiB0aGUgc2VhcmNoIHJlc3VsdHMsIHRoZSBzZXJ2ZXIKICAgIC8vIGNob29zZXMgdGhlIG1vc3QgY29tbW9uIHVuaXQgdG8gaW5jbHVkZSBpbiB0aGlzIGF2ZXJhZ2UgcHJpY2UuIE5vdywgd2UgbXVzdCBkZXRlcm1pbmUKICAgIC8vIGhvdyB0byB0cmFuc2Zvcm0gdGhpcyB1bml0IGludG8gdGhlIHVuaXQgZ2l2ZW4gYnkgdGhlIHVzZXIuCiAgICAvLwogICAgLy8gVGhlcmUgYXJlIDMgcG9zc2libGUgY2FzZXM6CiAgICAvLyAgICAxLiBUaGUgdW5pdCByZXR1cm5lZCBieSB0aGUgc2VydmVyIGlzIHRoZSBzYW1lIGFzIHRoZSB1c2VyJ3MgdW5pdC4gTm8gbmVlZCB0byBkbyBhbnkgY29udmVyc2lvbnMuCiAgICAvLyAgICAyLiBUaGUgdW5pdCByZXR1cm5lZCBieSB0aGUgc2VydmVyIGlzIGluIHRoZSBzYW1lIGNsYXNzICh2b2x1bWUgb3IgbWFzcykgYXMgdGhlIHVzZXIncyB1bml0LCBzbyBjYW4gYmUgZWFzaWx5IGNvbnZlcnRlZCB2aWEgdGFibGUuCiAgICAvLyAgICAzLiBUaGUgdW5pdCByZXR1cm5lZCBieSB0aGUgc2VydmVyIGlzIGluIGEgZGlmZmVyZW50IGNsYXNzIGFzIHRoZSB1c2VyJ3MgdW5pdC4gVGhpcyBsZWFkcyB0byAyIHJpc2t5IG9wdGlvbnMgYW5kIGEgc2hpdHR5IGZhbGxiYWNrOgogICAgLy8gICAgICAgIGEuIFRyeSB0byBnb29nbGUgdG8gZGV0ZXJtaW5lIHRoZSBpbmdyZWRpZW50LXNwZWNpZmljIHZvbHVtZSA8LT4gbWFzcyBjb252ZXJzaW9uIGZvciB0aGlzIHVuaXQKICAgIC8vICAgICAgICBiLiBUcnkgdG8gdXNlIGEgaGFuZG1hZGUgY2FjaGUgb2YgY29tbW9uIGluZ3JlZGllbnQtc3BlY2lmaWMgY29udmVyc2lvbnMKICAgIC8vCiAgICAvLyAgICAgICAgYy4gQXMgYSBmYWxsYmFjaywgYXNrIHRoZSB1c2VyIHRvIGlucHV0IHRoZWlyIG9yaWdpbmFsIGFtb3VudCBpbiB0aGlzIG5ldyB1bml0LgoKICAgIC8vIE5vIG5lZWQgZm9yIGNvbnZlcnNpb24KICAgIGlmIChwYXJzZWRVbml0ID09PSBpbmcudW5pdCB8fCBpbmcudW5pdCA9PT0gVW5pdC5Ob25lKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcXVhbnRpdHk6IHJlc01hcnNoYWwuYXZlcmFnZSwKICAgICAgICB1bml0OiBwYXJzZWRVbml0LAogICAgICB9OwogICAgfQoKICAgIGNvbnN0IHByaWNlOiBBbW91bnQgPSB7cXVhbnRpdHk6IHJlc01hcnNoYWwuYXZlcmFnZSwgdW5pdDogcGFyc2VkVW5pdH07CiAgICBjb25zb2xlLmxvZygnR290IHByaWNlOiAnICsgSlNPTi5zdHJpbmdpZnkocHJpY2UpKTsKCiAgICAvLyBWb2x1bWUgLT4gdm9sdW1lIGNvbnZlcnNpb24KICAgIGlmIChWb2x1bWVVbml0cy5pbmNsdWRlcyhwYXJzZWRVbml0KSAmJiBWb2x1bWVVbml0cy5pbmNsdWRlcyhpbmcudW5pdCkpIHsKICAgICAgcmV0dXJuIENvbnZlcnRVbml0KHByaWNlLCBpbmcudW5pdCk7CiAgICB9CgogICAgLy8gTWFzcyAtPiBtYXNzIGNvbnZlcnNpb24KICAgIGlmIChNYXNzVW5pdHMuaW5jbHVkZXMocGFyc2VkVW5pdCkgJiYgTWFzc1VuaXRzLmluY2x1ZGVzKGluZy51bml0KSkgewogICAgICByZXR1cm4gQ29udmVydFVuaXQocHJpY2UsIGluZy51bml0KTsKICAgIH0KCiAgICAvLyBUcnkgY2FjaGUgbG9va3VwCiAgICBsZXQgY29udmVyc2lvbkZhY3RvciA9IG51bGw7CiAgICBPYmplY3Qua2V5cyhPdW5jZXNUb0N1cHMpLmZvckVhY2goKGluZ05hbWUpID0+IHsKICAgICAgaWYgKGluZy5uYW1lLmluY2x1ZGVzKGluZ05hbWUpKSBjb252ZXJzaW9uRmFjdG9yID0gT3VuY2VzVG9DdXBzW2luZ05hbWVdOwogICAgfSkKICAgIGlmIChjb252ZXJzaW9uRmFjdG9yKSB7CiAgICAgIHByaWNlLnF1YW50aXR5ID0gcHJpY2UucXVhbnRpdHkgKiBjb252ZXJzaW9uRmFjdG9yOwogICAgICByZXR1cm4gQ29udmVydFVuaXQocHJpY2UsIGluZy51bml0KTsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBxdWFudGl0eTogLTEsCiAgICAgIHVuaXQ6IFVuaXQuTm9uZSwKICAgIH07CiAgfQoKICBwcml2YXRlIG1ha2VMYWJlbChpdGVtOiBJbmdyZWRpZW50RGF0YSk6IHN0cmluZyB7CiAgICByZXR1cm4gYENvc3QgLyAke3RoaXMuZGlzcGxheVByaWNlT2YoaXRlbSkudW5pdH1gOwogIH0KCiAgcHJpdmF0ZSBtYWtlTGluayhpdGVtOiBJbmdyZWRpZW50RGF0YSk6IHN0cmluZyB7CiAgICByZXR1cm4gYGh0dHBzOi8vd3d3LmhlYi5jb20vc2VhcmNoLz9xPSR7aXRlbS5uYW1lfWA7CiAgfQoKICBhc3luYyBuZXh0U3RhZ2UoKSB7CiAgICBpZiAodGhpcy5zdGFnZSA9PT0gMCkgewogICAgICB0aGlzLnJ1blBhcnNlcigpOwogICAgfQogICAgdGhpcy5zdGFnZSsrOwogICAgaWYgKHRoaXMuc3RhZ2UgPT09IDMpIHsKICAgICAgdGhpcy5wYXJzZWQuZm9yRWFjaChhc3luYyAoaW5nKSA9PiB7CiAgICAgICAgaW5nLnByaWNlID0gYXdhaXQgdGhpcy5jYWxjdWxhdGVJbmdQcmljZShpbmcpLnRoZW4oKHApID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBQcmljZSBpcyAke3AucXVhbnRpdHl9IHBlciAke2luZy51bml0fWApCiAgICAgICAgICB0aGlzLiRuZXh0VGljaygpLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgICAgICB0aGlzLnN0YWdlID0gNDsKICAgICAgICAgIH0pCiAgICAgICAgICByZXR1cm4gcDsKICAgICAgICB9KTsKICAgICAgfSkKICAgIH0KICB9CgogIHByaXZhdGUgcnVuUGFyc2VyKCkgewogICAgdGhpcy5wYXJzZWQgPSBbXTsKICAgIHRoaXMuYXV0b2dyb3cuc3BsaXQoIlxuIikuZm9yRWFjaChsaW5lID0+IHRoaXMucGFyc2VkLnB1c2goUGFyc2VMaW5lKGxpbmUpKSk7CiAgfQoKICBwcml2YXRlIHJ1blRlc3RzKCkgewogICAgdGhpcy5zdGFnZSA9IC0xOwogICAgdGhpcy5zdGF0dXNlcyA9IFtdOwogICAgVGVzdENhc2VzLmZvckVhY2godGMgPT4gewogICAgICB0aGlzLnN0YXR1c2VzLnB1c2goewogICAgICAgIG5hbWU6IHRjLm5hbWUsCiAgICAgICAgc3RhdHVzOiAiTk9UIFNUQVJURUQiCiAgICAgIH0pOwogICAgfSk7CiAgICBUZXN0Q2FzZXMuZm9yRWFjaCh0YyA9PiB7CiAgICAgIGNvbnN0IHN0YXR1c0RhdGFNYXliZSA9IHRoaXMuc3RhdHVzZXMuZmluZChzID0+IHMubmFtZSA9PSB0Yy5uYW1lKTsKICAgICAgbGV0IHN0YXR1c0RhdGEgPSB0aGlzLnN0YXR1c2VzWzBdOwogICAgICBpZiAoc3RhdHVzRGF0YU1heWJlKSBzdGF0dXNEYXRhID0gc3RhdHVzRGF0YU1heWJlOwogICAgICBzdGF0dXNEYXRhLnN0YXR1cyA9ICJSVU5OSU5HIjsKICAgICAgdGhpcy5hdXRvZ3JvdyA9IHRjLmlucHV0OwogICAgICB0aGlzLnJ1blBhcnNlcigpOwogICAgICBsZXQgY29ycmVjdCA9IHRydWU7CiAgICAgIGxldCBmYWlsZWQgPSAiIjsKICAgICAgbGV0IHJlYXNvbkNvbXBsZXRlID0gZmFsc2U7CiAgICAgIHRoaXMucGFyc2VkLmZvckVhY2goKGluZywgaW5kZXgpID0+IHsKICAgICAgICBpZiAoaW5nLm5hbWUgIT09IHRjLm91dHB1dFtpbmRleF0ubmFtZSkgewogICAgICAgICAgY29ycmVjdCA9IGZhbHNlOwogICAgICAgICAgZmFpbGVkID0gYEV4cGVjdGVkOiAke3RjLm91dHB1dFtpbmRleF0ubmFtZX1cbkdvdDogJHtpbmcubmFtZX1gOwogICAgICAgIH0KICAgICAgICBpZiAoaW5nLnF1YW50aXR5ICE9PSB0Yy5vdXRwdXRbaW5kZXhdLnF1YW50aXR5KSB7CiAgICAgICAgICBjb3JyZWN0ID0gZmFsc2U7CiAgICAgICAgICBmYWlsZWQgPSBgRXhwZWN0ZWQ6ICR7dGMub3V0cHV0W2luZGV4XS5xdWFudGl0eX1cbkdvdDogJHtpbmcucXVhbnRpdHl9YDsKICAgICAgICB9CiAgICAgICAgaWYgKGluZy51bml0ICE9PSB0Yy5vdXRwdXRbaW5kZXhdLnVuaXQpIHsKICAgICAgICAgIGNvcnJlY3QgPSBmYWxzZTsKICAgICAgICAgIGZhaWxlZCA9IGBFeHBlY3RlZDogJHt0Yy5vdXRwdXRbaW5kZXhdLnVuaXR9XG5Hb3Q6ICR7aW5nLnVuaXR9YDsKICAgICAgICB9CiAgICAgICAgaWYgKCFjb3JyZWN0ICYmICFyZWFzb25Db21wbGV0ZSkgewogICAgICAgICAgZmFpbGVkICs9IGBcbkZhaWxlZCBhdDogJHtKU09OLnN0cmluZ2lmeShpbmcsIG51bGwsIDQpfWA7CiAgICAgICAgICByZWFzb25Db21wbGV0ZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKGNvcnJlY3QpIHN0YXR1c0RhdGEuc3RhdHVzID0gIlBBU1MiOwogICAgICBlbHNlIHsKICAgICAgICBzdGF0dXNEYXRhLnN0YXR1cyA9ICJGQUlMIjsKICAgICAgICBjb25zb2xlLmxvZygiVEVTVCBGQUlMRUQ6IFxuIiArIGZhaWxlZCk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgcHJpdmF0ZSBkaXNwbGF5UHJpY2VPZihpbmc6IEluZ3JlZGllbnREYXRhKTogQW1vdW50IHsKICAgIGlmIChpbmcucHJpY2UpIHJldHVybiBpbmcucHJpY2U7CiAgICByZXR1cm4gewogICAgICBxdWFudGl0eTogMCwKICAgICAgdW5pdDogaW5nLnVuaXQsCiAgICB9CiAgfQoKICBwcml2YXRlIGJhY2tUb01haW4oKSB7CiAgICB0aGlzLmF1dG9ncm93ID0gIiI7CiAgICB0aGlzLnBhcnNlZCA9IFtdOwogICAgdGhpcy5zdGFnZSA9IDA7CiAgfQoKICBwcml2YXRlIHRlc3RDb2xvcihuYW1lOiBzdHJpbmcpIHsKICAgIGNvbnN0IHN0YXR1c0RhdGEgPSB0aGlzLnN0YXR1c2VzLmZpbmQocyA9PiBzLm5hbWUgPT0gbmFtZSk7CiAgICBpZiAoc3RhdHVzRGF0YSkKICAgICAgaWYgKHN0YXR1c0RhdGEuc3RhdHVzID09ICJQQVNTIikgcmV0dXJuICJjb2xvcjogZGFya3NlYWdyZWVuOyI7CiAgICBpZiAoc3RhdHVzRGF0YSkgaWYgKHN0YXR1c0RhdGEuc3RhdHVzID09ICJGQUlMIikgcmV0dXJuICJjb2xvcjogb3JhbmdlcmVkOyI7CiAgfQoKICBwcml2YXRlIHNldERhcmtNb2RlKCkgewogICAgdGhpcy50aGVtZSA9ICJ0ZXN0aW5nIjsKICB9CgogIHByaXZhdGUgc2V0TGlnaHRNb2RlKCkgewogICAgdGhpcy50aGVtZSA9ICJkZWZhdWx0IjsKICB9CgogIGdldCB0ZXN0U3RhdHVzKCk6IFRlc3RTdGF0dXNbXSB7CiAgICByZXR1cm4gdGhpcy5zdGF0dXNlczsKICB9CgogIGdldCB0b3BTdHlsZSgpOiBzdHJpbmcgewogICAgaWYgKHRoaXMudGhlbWUgPT09ICJkZWZhdWx0IikgcmV0dXJuICIiOwogICAgcmV0dXJuICJiYWNrZ3JvdW5kLWNvbG9yOiAjNDI0MjQyOyI7CiAgfQoKICBnZXQgYXBwU3R5bGUoKTogc3RyaW5nIHsKICAgIHJldHVybiBgaGVpZ2h0OiAke3dpbmRvdy5pbm5lckhlaWdodH1weGA7CiAgfQoKICBAV2F0Y2goInN0YWdlIikKICBzdGFnZUNoYW5nZWQobmV3U3RhZ2U6IG51bWJlcikgewogICAgaWYgKG5ld1N0YWdlID09PSAxKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuc3RhZ2UrKzsKICAgICAgfSwgMCk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\" v-bind:style=\"topStyle\">\n    <md-button\n      v-if=\"stage == 0 && theme == 'default'\"\n      v-on:click=\"setDarkMode\"\n      class=\"md-flat\"\n      style=\"position: absolute; bottom: 4%; right: 0%; font-size: 10px; text-align: right; line-height: initial;\"\n      v-bind:md-theme=\"theme\"\n    >Dark Theme</md-button>\n    <md-button\n      v-if=\"stage == 0 && theme == 'testing'\"\n      v-on:click=\"setLightMode\"\n      class=\"md-flat\"\n      style=\"position: absolute; bottom: 4%; right: 0%; font-size: 10px; text-align: right; line-height: initial;\"\n      v-bind:md-theme=\"theme\"\n    >Light Theme</md-button>\n    <md-button\n      v-if=\"stage == 0\"\n      v-on:click=\"runTests\"\n      class=\"md-flat\"\n      style=\"position: absolute; bottom: 1%; right: 0%; font-size: 10px; text-align: right; line-height: initial;\"\n      v-bind:md-theme=\"theme\"\n    >Run Tests</md-button>\n    <md-button\n      v-if=\"stage == -1\"\n      v-on:click=\"backToMain\"\n      class=\"md-flat\"\n      style=\"position: absolute; bottom: 1%; right: 0%; font-size: 10px; text-align: right; line-height: initial;\"\n      v-bind:md-theme=\"theme\"\n    >Back</md-button>\n    <div :style=\"appStyle\">\n      <md-card v-if=\"stage == 0\" class=\"centered\" v-bind:md-theme=\"theme\">\n        <md-card-content style=\"height: 100%;\">\n          <md-field>\n            <md-textarea placeholder=\"Enter ingredients here.\" v-model=\"autogrow\" md-autogrow></md-textarea>\n          </md-field>\n        </md-card-content>\n        <div class=\"md-layout\" style=\"height: 100%;\">\n          <div class=\"md-layout-item\"></div>\n          <div class=\"md-layout-item\">\n            <md-button\n              v-on:click=\"nextStage\"\n              class=\"md-raised centerbutton\"\n              style=\"font-size: 15px;\"\n            >Go</md-button>\n          </div>\n          <div class=\"md-layout-item\"></div>\n        </div>\n      </md-card>\n      <div v-if=\"stage == 1\" style=\"height: 100%;\">\n        <span\n          class=\"md-subheading\"\n          style=\"position: absolute; left: 50%; top: 50%; margin-right: -50%; transform: translate(-50%, -50%);\"\n        >Organizing the cookbook...</span>\n        <pacman-loader\n          class=\"centered\"\n          style=\"position: absolute; left: 47.5%; top: 40%; margin-right: -50%; transform: translate(-50%, -50%);\"\n        />\n      </div>\n      <div v-if=\"stage == 2\" style=\"height: 100%;\">\n        <span\n          class=\"md-title\"\n          style=\"position: absolute; left: 50%; top: 10%; margin-right: -50%; transform: translate(-50%, -50%);\"\n        >Ok, does this look right?</span>\n        <md-card class=\"centered-without-height\" v-bind:md-theme=\"theme\">\n          <md-card-content style=\"height: 100%;\">\n            <md-table v-model=\"parsed\">\n              <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n                <md-table-cell md-label=\"Quantity\" md-sort-by=\"quantity\">\n                  {{\n                  item.quantity\n                  }}\n                </md-table-cell>\n                <md-table-cell md-label=\"Unit\" md-sort-by=\"unit\">\n                  {{\n                  item.unit\n                  }}\n                </md-table-cell>\n                <md-table-cell md-label=\"Ingredient\" md-sort-by=\"ingredient\">\n                  {{\n                  item.name\n                  }}\n                </md-table-cell>\n              </md-table-row>\n            </md-table>\n          </md-card-content>\n          <div class=\"md-layout\" style=\"height: 100%;\">\n            <div class=\"md-layout-item\"></div>\n            <div class=\"md-layout-item\">\n              <md-button v-on:click=\"nextStage\" class=\"md-raised md-primary centerbutton-top\">Yes</md-button>\n            </div>\n            <div class=\"md-layout-item\"></div>\n          </div>\n        </md-card>\n      </div>\n      <div v-if=\"stage == 3\" style=\"height: 100%;\">\n        <span\n          class=\"md-subheading\"\n          style=\"position: absolute; left: 50%; top: 50%; margin-right: -50%; transform: translate(-50%, -50%);\"\n        >Crunching the numbers...</span>\n        <pacman-loader\n          class=\"centered\"\n          style=\"position: absolute; left: 47.5%; top: 40%; margin-right: -50%; transform: translate(-50%, -50%);\"\n        />\n      </div>\n      <div v-if=\"stage == 4\" style=\"height: 100%;\">\n        <span\n          class=\"md-title\"\n          style=\"position: absolute; left: 50%; top: 10%; margin-right: -50%; transform: translate(-50%, -50%);\"\n        >Here's what I've got:</span>\n        <md-card class=\"centered-without-height\" v-bind:md-theme=\"theme\">\n          <md-card-content style=\"height: 100%;\">\n            <md-table v-model=\"parsed\">\n              <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n                <md-table-cell md-label=\"Quantity\" md-sort-by=\"quantity\">\n                  {{\n                  item.quantity\n                  }}\n                </md-table-cell>\n                <md-table-cell md-label=\"Unit\" md-sort-by=\"unit\">\n                  {{\n                  item.unit\n                  }}\n                </md-table-cell>\n                <md-table-cell md-label=\"Ingredient\" md-sort-by=\"ingredient\">\n                  {{\n                  item.name\n                  }}\n                </md-table-cell>\n                <md-table-cell v-bind:md-label=\"makeLabel(item)\" md-sort-by=\"cost\">\n                  <a v-bind:href=\"makeLink(item)\" target=\"_blank\">${{\n                    (displayPriceOf(item).quantity).toFixed(2)\n                  }}</a>\n                </md-table-cell>\n                <md-table-cell md-label=\"Total Cost\" md-sort-by=\"ingredient\">\n                  ${{\n                    (displayPriceOf(item).quantity * item.quantity).toFixed(2)\n                  }}\n                </md-table-cell>\n              </md-table-row>\n            </md-table>\n          </md-card-content>\n          <div class=\"md-layout\" style=\"height: 100%;\">\n            <div class=\"md-layout-item\"></div>\n            <div class=\"md-layout-item\">\n              <md-button v-on:click=\"nextStage\" class=\"md-raised md-primary centerbutton-top\">Yes</md-button>\n            </div>\n            <div class=\"md-layout-item\"></div>\n          </div>\n        </md-card>\n      </div>\n      <div v-if=\"stage == -1\" style=\"height: 100%;\">\n        <md-card class=\"centered\" v-bind:md-theme=\"theme\">\n          <md-card-content style=\"height: 100%;\">\n            <md-table v-model=\"testStatus\">\n              <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n                <md-table-cell\n                  href=\"https://weather.com\"\n                  md-label=\"Test\"\n                  md-sort-by=\"quantity\"\n                  v-bind:style=\"testColor(item.name)\"\n                >\n                  {{\n                  item.name\n                  }}\n                </md-table-cell>\n                <md-table-cell\n                  md-label=\"Status\"\n                  md-sort-by=\"unit\"\n                  v-bind:style=\"testColor(item.name)\"\n                >\n                  {{\n                  item.status\n                  }}\n                </md-table-cell>\n              </md-table-row>\n            </md-table>\n          </md-card-content>\n        </md-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { IngredientData, VolumeUnits, ConvertUnit, Amount, MassUnits, OuncesToCups, Unit } from \"./common/common\";\nimport { TestCases, TestStatus } from \"./tests/tests\";\nimport { ParseLine, ParseUnit } from './logic/parser';\nimport * as RM from 'typed-rest-client/RestClient';\n\ninterface PriceResponse {\n  average: number;\n  unit: string;\n}\n\n@Component({\n  components: {}\n})\nexport default class App extends Vue {\n  private autogrow = \"2 teaspoon vanilla extract\";\n  private parsed: IngredientData[] = [];\n  private stage = 0;\n  private theme = \"default\";\n  private statuses: TestStatus[] = [];\n\n  async calculateIngPrice(ing: IngredientData): Promise<Amount> {\n    const rest: RM.RestClient = new RM.RestClient('rest', 'http://localhost:5000');\n    const search: string = (ing.unit !== Unit.None) ? `/ing?ing=${ing.name}&unit=*` : `/ing?ing=${ing.name}&unit=none`\n    const res: RM.IRestResponse<PriceResponse> = await rest.get<PriceResponse>()\n    let resMarshal: PriceResponse = { average: 0, unit: ''}\n    if (res.result) resMarshal = res.result;\n    console.log('Got resp: ' + JSON.stringify(resMarshal));\n    const parsedUnit = ParseUnit(resMarshal.unit);\n\n    // The server returns a price, along with its unit. Out of the search results, the server\n    // chooses the most common unit to include in this average price. Now, we must determine\n    // how to transform this unit into the unit given by the user.\n    //\n    // There are 3 possible cases:\n    //    1. The unit returned by the server is the same as the user's unit. No need to do any conversions.\n    //    2. The unit returned by the server is in the same class (volume or mass) as the user's unit, so can be easily converted via table.\n    //    3. The unit returned by the server is in a different class as the user's unit. This leads to 2 risky options and a shitty fallback:\n    //        a. Try to google to determine the ingredient-specific volume <-> mass conversion for this unit\n    //        b. Try to use a handmade cache of common ingredient-specific conversions\n    //\n    //        c. As a fallback, ask the user to input their original amount in this new unit.\n\n    // No need for conversion\n    if (parsedUnit === ing.unit || ing.unit === Unit.None) {\n      return {\n        quantity: resMarshal.average,\n        unit: parsedUnit,\n      };\n    }\n\n    const price: Amount = {quantity: resMarshal.average, unit: parsedUnit};\n    console.log('Got price: ' + JSON.stringify(price));\n\n    // Volume -> volume conversion\n    if (VolumeUnits.includes(parsedUnit) && VolumeUnits.includes(ing.unit)) {\n      return ConvertUnit(price, ing.unit);\n    }\n\n    // Mass -> mass conversion\n    if (MassUnits.includes(parsedUnit) && MassUnits.includes(ing.unit)) {\n      return ConvertUnit(price, ing.unit);\n    }\n\n    // Try cache lookup\n    let conversionFactor = null;\n    Object.keys(OuncesToCups).forEach((ingName) => {\n      if (ing.name.includes(ingName)) conversionFactor = OuncesToCups[ingName];\n    })\n    if (conversionFactor) {\n      price.quantity = price.quantity * conversionFactor;\n      return ConvertUnit(price, ing.unit);\n    }\n\n    return {\n      quantity: -1,\n      unit: Unit.None,\n    };\n  }\n\n  private makeLabel(item: IngredientData): string {\n    return `Cost / ${this.displayPriceOf(item).unit}`;\n  }\n\n  private makeLink(item: IngredientData): string {\n    return `https://www.heb.com/search/?q=${item.name}`;\n  }\n\n  async nextStage() {\n    if (this.stage === 0) {\n      this.runParser();\n    }\n    this.stage++;\n    if (this.stage === 3) {\n      this.parsed.forEach(async (ing) => {\n        ing.price = await this.calculateIngPrice(ing).then((p) => {\n          console.log(`Price is ${p.quantity} per ${ing.unit}`)\n          this.$nextTick().then(() => {\n            this.$forceUpdate();\n            this.stage = 4;\n          })\n          return p;\n        });\n      })\n    }\n  }\n\n  private runParser() {\n    this.parsed = [];\n    this.autogrow.split(\"\\n\").forEach(line => this.parsed.push(ParseLine(line)));\n  }\n\n  private runTests() {\n    this.stage = -1;\n    this.statuses = [];\n    TestCases.forEach(tc => {\n      this.statuses.push({\n        name: tc.name,\n        status: \"NOT STARTED\"\n      });\n    });\n    TestCases.forEach(tc => {\n      const statusDataMaybe = this.statuses.find(s => s.name == tc.name);\n      let statusData = this.statuses[0];\n      if (statusDataMaybe) statusData = statusDataMaybe;\n      statusData.status = \"RUNNING\";\n      this.autogrow = tc.input;\n      this.runParser();\n      let correct = true;\n      let failed = \"\";\n      let reasonComplete = false;\n      this.parsed.forEach((ing, index) => {\n        if (ing.name !== tc.output[index].name) {\n          correct = false;\n          failed = `Expected: ${tc.output[index].name}\\nGot: ${ing.name}`;\n        }\n        if (ing.quantity !== tc.output[index].quantity) {\n          correct = false;\n          failed = `Expected: ${tc.output[index].quantity}\\nGot: ${ing.quantity}`;\n        }\n        if (ing.unit !== tc.output[index].unit) {\n          correct = false;\n          failed = `Expected: ${tc.output[index].unit}\\nGot: ${ing.unit}`;\n        }\n        if (!correct && !reasonComplete) {\n          failed += `\\nFailed at: ${JSON.stringify(ing, null, 4)}`;\n          reasonComplete = true;\n        }\n      });\n      if (correct) statusData.status = \"PASS\";\n      else {\n        statusData.status = \"FAIL\";\n        console.log(\"TEST FAILED: \\n\" + failed);\n      }\n    });\n  }\n\n  private displayPriceOf(ing: IngredientData): Amount {\n    if (ing.price) return ing.price;\n    return {\n      quantity: 0,\n      unit: ing.unit,\n    }\n  }\n\n  private backToMain() {\n    this.autogrow = \"\";\n    this.parsed = [];\n    this.stage = 0;\n  }\n\n  private testColor(name: string) {\n    const statusData = this.statuses.find(s => s.name == name);\n    if (statusData)\n      if (statusData.status == \"PASS\") return \"color: darkseagreen;\";\n    if (statusData) if (statusData.status == \"FAIL\") return \"color: orangered;\";\n  }\n\n  private setDarkMode() {\n    this.theme = \"testing\";\n  }\n\n  private setLightMode() {\n    this.theme = \"default\";\n  }\n\n  get testStatus(): TestStatus[] {\n    return this.statuses;\n  }\n\n  get topStyle(): string {\n    if (this.theme === \"default\") return \"\";\n    return \"background-color: #424242;\";\n  }\n\n  get appStyle(): string {\n    return `height: ${window.innerHeight}px`;\n  }\n\n  @Watch(\"stage\")\n  stageChanged(newStage: number) {\n    if (newStage === 1) {\n      setTimeout(() => {\n        this.stage++;\n      }, 0);\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.centered {\n  margin: auto;\n  width: 50%;\n  height: 40%;\n  top: 20%;\n}\n\n.centered-without-height {\n  margin: auto;\n  width: 50%;\n  top: 20%;\n}\n\n.centerbutton {\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -50%);\n  top: 50%;\n}\n\n.centerbutton-top {\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -50%);\n  top: 200%;\n}\n</style>\n\n<style lang=\"scss\">\n@import \"~vue-material/dist/theme/engine\"; // Import the theme engine\n\n@include md-register-theme(\n  \"default\",\n  (\n    primary: md-get-palette-color(blue, A200),\n    // The primary color of your application\n      accent: md-get-palette-color(red, A200),\n    // The accent or secondary color\n      theme: light,\n    // This can be dark or light\n  )\n);\n\n@include md-register-theme(\n  \"testing\",\n  (\n    primary: md-get-palette-color(blue, A200),\n    // The primary color of your application\n      accent: md-get-palette-color(red, A200),\n    // The accent or secondary color\n      theme: dark,\n    // This can be dark or light\n  )\n);\n\n@import \"~vue-material/dist/theme/all\"; // Apply the theme\n</style>"]}]}