{"remainingRequest":"/Users/rbector/Desktop/cookbook/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rbector/Desktop/cookbook/src/App.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/rbector/Desktop/cookbook/src/App.vue","mtime":1593731808666},{"path":"/Users/rbector/Desktop/cookbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rbector/Desktop/cookbook/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIFdhdGNoIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CgppbnRlcmZhY2UgSW5ncmVkaWVudERhdGEgewogIG5hbWU6IHN0cmluZzsKICBxdWFudGl0eTogbnVtYmVyOwogIHVuaXQ6IFVuaXRWb2x1bWU7Cn0KCmVudW0gVW5pdFZvbHVtZSB7CiAgQ3VwID0gImN1cCIsCiAgVGVhc3Bvb24gPSAidGVhc3Bvb24iLAogIFRhYmxlc3Bvb24gPSAidGFibGVzcG9vbiIsCiAgTm9uZSA9ICJub25lIgp9Cgpjb25zdCB1bml0U3RyaW5ncyA9IHsKICBjdXA6IFsiY3VwIiwgImN1cHMiXSwKICB0YWJsZXNwb29uOiBbInRhYmxlc3Bvb24iLCAidGJzcCJdLAogIHRlYXNwb29uOiBbInRlYXNwb29uIiwgInRzcCJdCn07CgpAQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7fQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBWdWUgewogIHByaXZhdGUgYXV0b2dyb3cgPSAiIjsKICBwcml2YXRlIHBhcnNlZDogSW5ncmVkaWVudERhdGFbXSA9IFtdOwogIHByaXZhdGUgc3RhZ2UgPSAwOwoKICBwcml2YXRlIG5leHRTdGFnZSgpIHsKICAgIGlmICh0aGlzLnN0YWdlID09PSAwKSB7CiAgICAgIHRoaXMucGFyc2VkID0gW107CiAgICAgIHRoaXMuaW5wdXQuc3BsaXQoIlxuIikuZm9yRWFjaChsaW5lID0+IHRoaXMucGFyc2VMaW5lKGxpbmUpKTsKICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJzZWQsIG51bGwsIDQpKTsKICAgIH0KICAgIHRoaXMuc3RhZ2UrKzsKICB9CgogIHByaXZhdGUgcGFyc2VMaW5lKGxpbmU6IHN0cmluZykgewogICAgY29uc3QgaW5ncmVkaWVudCA9IHsKICAgICAgbmFtZTogIiIsCiAgICAgIHF1YW50aXR5OiAwLAogICAgICB1bml0OiBVbml0Vm9sdW1lLkN1cAogICAgfTsKICAgIGNvbnN0IHRva2VucyA9IGxpbmUuc3BsaXQoIiAiKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICh0aGlzLmlzUXVhbnRpdHkodG9rZW5zW2ldKSkgewogICAgICAgIGluZ3JlZGllbnQucXVhbnRpdHkgPSB0aGlzLnBhcnNlUXVhbnRpdHkodG9rZW5zW2ldKTsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgY29uc3QgcGFyc2VkVW5pdCA9IHRoaXMucGFyc2VVbml0KHRva2Vuc1tpXSk7CiAgICAgIGlmIChwYXJzZWRVbml0ICE9IFVuaXRWb2x1bWUuTm9uZSkgewogICAgICAgIGluZ3JlZGllbnQudW5pdCA9IHBhcnNlZFVuaXQ7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIGluZ3JlZGllbnQubmFtZSArPSB0b2tlbnNbaV0gKyAiICI7CiAgICB9CgogICAgaW5ncmVkaWVudC5uYW1lID0gaW5ncmVkaWVudC5uYW1lLnRyaW0oKTsKICAgIHRoaXMucGFyc2VkLnB1c2goaW5ncmVkaWVudCk7CiAgfQoKICBwcml2YXRlIHBhcnNlVW5pdCh0b2tlbjogc3RyaW5nKTogVW5pdFZvbHVtZSB7CiAgICBjb25zdCBwcm9jZXNzZWQgPSB0b2tlbi50b0xvd2VyQ2FzZSgpOwogICAgY29uc3QgZG9lc0luY2x1ZGVBcnJheSA9IChpbnB1dDogc3RyaW5nLCB0ZXJtczogc3RyaW5nW10pOiBib29sZWFuID0+IHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXJtcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChpbnB1dC5pbmNsdWRlcyh0ZXJtc1tpXSkpIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CgogICAgaWYgKGRvZXNJbmNsdWRlQXJyYXkocHJvY2Vzc2VkLCB1bml0U3RyaW5ncy5jdXApKSB7CiAgICAgIHJldHVybiBVbml0Vm9sdW1lLkN1cDsKICAgIH0KICAgIGlmIChkb2VzSW5jbHVkZUFycmF5KHByb2Nlc3NlZCwgdW5pdFN0cmluZ3MudGFibGVzcG9vbikpCiAgICAgIHJldHVybiBVbml0Vm9sdW1lLlRhYmxlc3Bvb247CiAgICBpZiAoZG9lc0luY2x1ZGVBcnJheShwcm9jZXNzZWQsIHVuaXRTdHJpbmdzLnRlYXNwb29uKSkKICAgICAgcmV0dXJuIFVuaXRWb2x1bWUuVGVhc3Bvb247CiAgICByZXR1cm4gVW5pdFZvbHVtZS5Ob25lOwogIH0KCiAgcHJpdmF0ZSBpc1F1YW50aXR5KHRva2VuOiBzdHJpbmcpOiBib29sZWFuIHsKICAgIGNvbnN0IGNoYXJzID0gdG9rZW4uc3BsaXQoIiIpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaXNOYU4oTnVtYmVyKGNoYXJzW2ldKSkgJiYgY2hhcnNbaV0gIT09ICIvIiAmJiBjaGFyc1tpXSAhPT0gIi4iKQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KCiAgcHJpdmF0ZSBwYXJzZVF1YW50aXR5KHRva2VuOiBzdHJpbmcpOiBudW1iZXIgewogICAgaWYgKHRva2VuLmluY2x1ZGVzKCIvIikpIHsKICAgICAgY29uc3QgZnJhYyA9IHRva2VuLnNwbGl0KCIvIik7CiAgICAgIHJldHVybiBOdW1iZXIoZnJhY1swXSkgLyBOdW1iZXIoZnJhY1sxXSk7CiAgICB9CiAgICByZXR1cm4gTnVtYmVyKHRva2VuKTsKICB9CgogIGdldCBhcHBTdHlsZSgpOiBzdHJpbmcgewogICAgcmV0dXJuIGBoZWlnaHQ6ICR7d2luZG93LmlubmVySGVpZ2h0fXB4YDsKICB9Cn0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <div :style=\"appStyle\">\n      <md-card v-if=\"stage == 0\" class=\"centered\">\n        <md-card-content style=\"height: 100%;\">\n          <md-field>\n            <md-textarea\n              placeholder=\"Enter ingredients here.\"\n              v-model=\"autogrow\"\n              md-autogrow\n            ></md-textarea>\n          </md-field>\n          <div class=\"md-layout\" style=\"height: 100%;\">\n            <div class=\"md-layout-item\"></div>\n            <div class=\"md-layout-item\">\n              <md-button v-on:click=\"nextStage\" class=\"md-raised centerbutton\"\n                >Go</md-button\n              >\n            </div>\n            <div class=\"md-layout-item\"></div>\n          </div>\n        </md-card-content>\n      </md-card>\n      <md-card v-if=\"stage == 1\" class=\"centered\">\n        <md-card-content style=\"height: 100%;\">\n          <md-table v-model=\"parsed\">\n            <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\n              <md-table-cell md-label=\"Quantity\" md-sort-by=\"quantity\">{{\n                item.quantity\n              }}</md-table-cell>\n              <md-table-cell md-label=\"Unit\" md-sort-by=\"unit\">{{\n                item.unit\n              }}</md-table-cell>\n              <md-table-cell md-label=\"Ingredient\" md-sort-by=\"ingredient\">{{\n                item.name\n              }}</md-table-cell>\n            </md-table-row>\n          </md-table>\n        </md-card-content>\n      </md-card>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\n\ninterface IngredientData {\n  name: string;\n  quantity: number;\n  unit: UnitVolume;\n}\n\nenum UnitVolume {\n  Cup = \"cup\",\n  Teaspoon = \"teaspoon\",\n  Tablespoon = \"tablespoon\",\n  None = \"none\"\n}\n\nconst unitStrings = {\n  cup: [\"cup\", \"cups\"],\n  tablespoon: [\"tablespoon\", \"tbsp\"],\n  teaspoon: [\"teaspoon\", \"tsp\"]\n};\n\n@Component({\n  components: {}\n})\nexport default class App extends Vue {\n  private autogrow = \"\";\n  private parsed: IngredientData[] = [];\n  private stage = 0;\n\n  private nextStage() {\n    if (this.stage === 0) {\n      this.parsed = [];\n      this.input.split(\"\\n\").forEach(line => this.parseLine(line));\n      console.log(JSON.stringify(this.parsed, null, 4));\n    }\n    this.stage++;\n  }\n\n  private parseLine(line: string) {\n    const ingredient = {\n      name: \"\",\n      quantity: 0,\n      unit: UnitVolume.Cup\n    };\n    const tokens = line.split(\" \");\n    for (let i = 0; i < tokens.length; i++) {\n      if (this.isQuantity(tokens[i])) {\n        ingredient.quantity = this.parseQuantity(tokens[i]);\n        continue;\n      }\n\n      const parsedUnit = this.parseUnit(tokens[i]);\n      if (parsedUnit != UnitVolume.None) {\n        ingredient.unit = parsedUnit;\n        continue;\n      }\n\n      ingredient.name += tokens[i] + \" \";\n    }\n\n    ingredient.name = ingredient.name.trim();\n    this.parsed.push(ingredient);\n  }\n\n  private parseUnit(token: string): UnitVolume {\n    const processed = token.toLowerCase();\n    const doesIncludeArray = (input: string, terms: string[]): boolean => {\n      for (let i = 0; i < terms.length; i++) {\n        if (input.includes(terms[i])) return true;\n      }\n      return false;\n    };\n\n    if (doesIncludeArray(processed, unitStrings.cup)) {\n      return UnitVolume.Cup;\n    }\n    if (doesIncludeArray(processed, unitStrings.tablespoon))\n      return UnitVolume.Tablespoon;\n    if (doesIncludeArray(processed, unitStrings.teaspoon))\n      return UnitVolume.Teaspoon;\n    return UnitVolume.None;\n  }\n\n  private isQuantity(token: string): boolean {\n    const chars = token.split(\"\");\n    for (let i = 0; i < chars.length; i++) {\n      if (isNaN(Number(chars[i])) && chars[i] !== \"/\" && chars[i] !== \".\")\n        return false;\n    }\n    return true;\n  }\n\n  private parseQuantity(token: string): number {\n    if (token.includes(\"/\")) {\n      const frac = token.split(\"/\");\n      return Number(frac[0]) / Number(frac[1]);\n    }\n    return Number(token);\n  }\n\n  get appStyle(): string {\n    return `height: ${window.innerHeight}px`;\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.centered {\n  margin: auto;\n  width: 50%;\n  height: 40%;\n  top: 20%;\n}\n\n.centerbutton {\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -50%);\n  top: 50%;\n}\n</style>\n"]}]}